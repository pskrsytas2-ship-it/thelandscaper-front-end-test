import React from 'react';
import ListingCard from './ListingCard';
import ForumCard from './ForumCard';

const CategorySection = ({ title, icon, items, viewAllLink, categoryId, onListingClick }) => {
  const isForum = categoryId === 'forum';
  const itemsToShow = isForum ? 3 : 4;
  const gridCols = isForum ? 'lg:grid-cols-3' : 'lg:grid-cols-4';

  return (
    <div className="flex w-full max-w-[1200px] px-6 flex-col items-end gap-6">
      {/* Section Header */}
      
      <div className="flex flex-row-reverse justify-end items-center gap-2 self-stretch">
        <div className="text-[#3B82F6] text-right font-['Dubai'] text-sm font-bold leading-5 cursor-pointer hover:underline">
          عرض الكل
        </div>
        <div className="flex-1 overflow-hidden text-[#374151] text-right font-['Dubai'] text-base font-medium line-clamp-1">
          {title}
        </div>
        <div className="flex w-6 h-6 p-0.5 justify-center items-center rounded-full bg-[#E7F2E9]">
          {icon}
        </div>
      </div>

      {/* Listing Grid */}
      <div
        className={`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 ${gridCols} gap-3 self-stretch`}
        dir="rtl"
      >
        {items?.slice(0, itemsToShow).map((item, index) => (
          isForum ? (
            <ForumCard
              key={item.id || index}
              {...item}
              onClick={(id) => onListingClick?.(id, categoryId)}
            />
          ) : (
            <ListingCard
              key={item.id || index}
              {...item}
              onClick={(id) => onListingClick?.(id, categoryId)}
            />
          )
        ))}
      </div>
    </div>
  );
};

//icons
export const ProjectsIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M4.33317 6.0013C5.25364 6.0013 5.99984 5.25511 5.99984 4.33464C5.99984 3.41416 5.25364 2.66797 4.33317 2.66797C3.4127 2.66797 2.6665 3.41416 2.6665 4.33464C2.6665 5.25511 3.4127 6.0013 4.33317 6.0013Z" fill="#0C7A1F"/>
    <path d="M9.3335 4.66797L5.8515 10.326L4.66683 8.66797L1.3335 13.3346H14.6668L9.3335 4.66797Z" fill="#0C7A1F"/>
  </svg>
);

export const MachineriesIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.1999 12.0015C13.985 12.0015 13 12.9865 13 14.2015C13 15.4165 13.985 16.4015 15.1999 16.4015C16.4149 16.4015 17.3999 15.4165 17.3999 14.2015C17.3999 12.9865 16.4149 12.0015 15.1999 12.0015ZM15.1999 14.8015C14.8692 14.8015 14.6 14.5323 14.6 14.2015C14.6 13.8708 14.8692 13.6015 15.1999 13.6015C15.5307 13.6015 15.7999 13.8708 15.7999 14.2015C15.7999 14.5323 15.5307 14.8015 15.1999 14.8015ZM17.1999 7.60155H15.5999V6.59655C15.5999 6.24355 15.7174 5.90255 15.9287 5.62556C16.0392 5.48056 16.0174 5.27406 15.8957 5.13831L15.3549 4.53406C15.1884 4.34781 14.8969 4.36106 14.7374 4.55356C14.2645 5.12406 14 5.8468 14 6.59655V7.60155H11.4417L10.0395 4.33006C9.94736 4.11376 9.79364 3.92935 9.59746 3.79981C9.40128 3.67026 9.17132 3.60132 8.93622 3.60156H5.59999C4.93824 3.60156 4.39999 4.13981 4.39999 4.80156V8.46454C4.18424 8.29629 3.87599 8.30304 3.67774 8.50129L2.9 9.27904C2.68525 9.49379 2.68525 9.84204 2.9 10.0568L3.0265 10.1833C2.90175 10.4148 2.8025 10.6538 2.72875 10.9013H2.55C2.24625 10.9013 2 11.1475 2 11.4513V12.5513C2 12.855 2.24625 13.1013 2.55 13.1013H2.7285C2.8025 13.349 2.9015 13.5878 3.02625 13.8195L2.89975 13.946C2.685 14.1608 2.685 14.509 2.89975 14.7238L3.67749 15.5015C3.89224 15.7163 4.24049 15.7163 4.45524 15.5015L4.58174 15.375C4.81324 15.4998 5.05224 15.599 5.29974 15.6728V15.8515C5.29974 16.1553 5.54599 16.4015 5.84974 16.4015H6.94973C7.25348 16.4015 7.49973 16.1553 7.49973 15.8515V15.673C7.74723 15.5993 7.98623 15.5 8.21773 15.3753L8.34422 15.5018C8.55897 15.7165 8.90722 15.7165 9.12197 15.5018L9.89972 14.724C10.1145 14.5093 10.1145 14.161 9.89972 13.9463L9.77322 13.8198C9.89797 13.5883 9.99722 13.3493 10.071 13.1018H10.25C10.5537 13.1018 10.8 12.8555 10.8 12.5518V12.4018H12.8135C13.3612 11.677 14.2215 11.2018 15.1999 11.2018C15.6659 11.2018 16.1017 11.317 16.4949 11.5068L17.7654 10.2363C17.9154 10.0863 17.9997 9.88279 17.9997 9.67054V8.40154C17.9999 7.9598 17.6417 7.60155 17.1999 7.60155ZM6.39998 14.0015C5.29549 14.0015 4.39999 13.106 4.39999 12.0015C4.39999 10.897 5.29549 10.0015 6.39998 10.0015C7.50448 10.0015 8.39997 10.897 8.39997 12.0015C8.39997 13.106 7.50448 14.0015 6.39998 14.0015ZM6.94998 7.60155H5.99998V5.20156H8.67222L9.70097 7.60155H6.94998Z" fill="#0C7A1F"/>
  </svg>
);

export const ToolsIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.0661 1.21289L8.17946 3.09922C7.66613 3.61922 7.66613 4.46789 8.17946 4.98789L9.11946 5.92789L6.08613 8.96122L4.20613 7.07289L3.25946 8.00622C-0.0405449 11.3395 2.33279 13.6729 2.33279 13.6729C2.33279 13.6729 4.66613 16.0062 7.99946 12.6929L8.93946 11.7529L7.07279 9.88622L10.0995 6.89922L11.0261 7.82789C11.5461 8.33922 12.3928 8.33922 12.9128 7.82789L14.7995 5.93922L10.0661 1.21289ZM11.9528 6.85922L11.0328 5.93922L10.0728 4.97922L9.13946 4.04622L9.99946 3.10622L12.8995 5.92789L11.9528 6.85922Z" fill="#0C7A1F"/>
  </svg>
);

export const TreesIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.9987 1.9987V3.33203C13.9987 4.56971 13.507 5.75669 12.6319 6.63186C11.7567 7.50703 10.5697 7.9987 9.33203 7.9987H8.66536V8.66537H11.9987V13.332C11.9987 13.6857 11.8582 14.0248 11.6082 14.2748C11.3581 14.5249 11.019 14.6654 10.6654 14.6654H5.33203C4.97841 14.6654 4.63927 14.5249 4.38922 14.2748C4.13917 14.0248 3.9987 13.6857 3.9987 13.332V8.66537H7.33203V6.66537C7.33203 5.42769 7.8237 4.2407 8.69887 3.36553C9.57404 2.49036 10.761 1.9987 11.9987 1.9987H13.9987ZM3.66536 1.33203C4.46535 1.33138 5.25378 1.52296 5.96427 1.89062C6.67476 2.25828 7.28652 2.79126 7.74803 3.4447C7.04392 4.37058 6.66352 5.50217 6.66536 6.66537V7.33203H6.33203C5.00595 7.33203 3.73418 6.80525 2.7965 5.86757C1.85882 4.92988 1.33203 3.65812 1.33203 2.33203V1.33203H3.66536Z" fill="#0C7A1F"/>
  </svg>
);

export const AgroChemicalsIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M7.53393 0.703315C4.7308 0.698628 2.12799 0.780503 2.1608 0.961753L2.8508 2.09113C4.7058 1.93175 6.47455 1.87394 8.24643 1.88582C9.90893 1.89675 11.5746 1.96925 13.312 2.07613L14.2871 1.03613C14.1464 0.825503 10.7121 0.708628 7.53393 0.703315ZM7.65268 2.44738C6.1183 2.45113 4.5808 2.50957 2.97486 2.64488C2.29393 6.50925 1.91674 11.2249 2.80299 14.1343L1.97705 15.103C5.9808 15.403 10.0558 15.4999 13.9339 15.2999L12.9995 14.1874C13.6027 10.8686 13.4152 6.33738 13.0058 2.62113C11.4058 2.5255 9.87143 2.46175 8.34018 2.44957L12.5339 6.29988H10.3058C10.4246 7.02175 10.9433 7.99675 11.4902 8.89988C11.7996 9.41238 12.1152 9.90925 12.3558 10.3468C12.5964 10.7843 12.7808 11.1499 12.7808 11.5186C12.7808 12.3936 12.1902 13.1124 11.3214 13.578C10.4527 14.0468 9.28705 14.2999 7.99955 14.2999C6.71205 14.2999 5.54643 14.0468 4.67768 13.578C3.80893 13.1124 3.2183 12.3936 3.2183 11.5186C3.2183 11.1436 3.41205 10.778 3.66518 10.3343C3.9183 9.8905 4.24643 9.3905 4.56518 8.87175C5.12768 7.96238 5.64018 6.98113 5.71205 6.29988H3.24955L7.65268 2.44738ZM7.99643 2.89644L4.74955 5.73738H6.25893L6.2808 5.99363C6.36518 6.9905 5.69018 8.11863 5.0433 9.16863C4.7183 9.69363 4.3933 10.1905 4.1558 10.6124C3.91518 11.0311 3.7808 11.3936 3.7808 11.5186C3.7808 11.9749 3.99955 12.378 4.40893 12.7249C6.10268 12.5124 6.97143 12.3936 7.73393 12.3686C7.75268 12.103 7.78705 11.8374 7.8308 11.5811C6.68705 11.653 5.63393 11.3468 4.59643 10.978C5.06205 10.078 5.9183 9.44988 6.69018 9.453C6.83393 9.453 6.97455 9.47175 7.10893 9.51863C7.45893 9.63113 7.77455 10.2593 7.98393 10.7874C8.05268 10.4593 8.1183 10.178 8.14643 9.97175V9.96863C8.17455 9.77488 8.09643 9.21863 7.99643 8.75925C7.92455 8.428 7.84955 8.13738 7.81205 7.99988C7.61518 7.99988 7.44018 7.96238 7.32455 7.84363C6.5308 7.01863 7.04643 5.49363 7.72768 4.64363C8.21205 5.44988 8.8433 6.31863 9.47767 6.91863C9.34018 7.38113 9.09018 7.753 8.6058 7.91863C8.54018 7.92488 8.45893 7.93425 8.37768 7.94675C8.42143 8.10925 8.48393 8.353 8.54643 8.63738C8.58705 8.8155 8.62455 8.99988 8.6558 9.18425C8.82143 9.03113 9.01205 8.8905 9.1683 8.88425H9.20268C10.0777 8.9655 11.0683 9.80925 11.3183 11.0405C10.4589 10.6468 9.47455 10.8749 8.69642 10.0968C8.60892 10.678 8.36518 11.553 8.29955 12.3718C9.05268 12.3968 9.92143 12.5155 11.5902 12.7249C11.9995 12.378 12.2183 11.9749 12.2183 11.5186C12.2183 11.3874 12.0902 11.0311 11.8621 10.6186C11.6339 10.203 11.3245 9.71238 11.0089 9.1905C10.3808 8.153 9.7183 7.02488 9.7183 6.01863V5.73738H11.0902L7.99643 2.89644ZM7.99955 12.9218C7.30268 12.9218 6.56518 13.0155 5.16518 13.1936C5.9058 13.5343 6.89955 13.7374 7.99955 13.7374C9.09955 13.7374 10.0933 13.5343 10.8339 13.1936C9.43393 13.0155 8.69643 12.9218 7.99955 12.9218Z" fill="#0C7A1F"/>
  </svg>
);

export const SeedsIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.8 2.2C13.8 2.2 12.8668 2 11.4668 2C7.8 2 1.06683 3.4 2.13348 13.8666C2.86683 13.9333 3.60017 14 4.26683 14C16.2001 14 13.8 2.2 13.8 2.2ZM4.66683 11.3333C4.66683 11.3333 4.66683 4.66667 11.3335 4.66667C11.3335 4.66667 7.33348 6 4.66683 11.3333Z" fill="#0C7A1F"/>
  </svg>
);

export const FarmsIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M8.55184 13.7862C8.47844 13.8966 8.36419 13.9733 8.23419 13.9994C8.10419 14.0256 7.96916 13.999 7.85876 13.9256C5.97511 12.6725 3.76238 12.0056 1.5 12.0093C1.36739 12.0093 1.24022 11.9567 1.14645 11.8629C1.05268 11.7692 1 11.642 1 11.5093C1 11.3767 1.05268 11.2496 1.14645 11.1558C1.24022 11.0621 1.36739 11.0093 1.5 11.0093C3.95946 11.0056 6.36489 11.7307 8.41251 13.0931C8.52288 13.1665 8.59961 13.2808 8.62569 13.4108C8.65176 13.5408 8.62529 13.6758 8.55184 13.7862ZM1.5 9.00931C1.36739 9.00931 1.24022 9.06199 1.14645 9.15576C1.05268 9.24953 1 9.3767 1 9.50931C1 9.64191 1.05268 9.76908 1.14645 9.86285C1.24022 9.95662 1.36739 10.0093 1.5 10.0093C5.03428 10.0012 8.42918 11.3871 10.9482 13.8662C10.9945 13.914 11.0502 13.9521 11.1115 13.978C11.1729 14.0041 11.2389 14.0175 11.3055 14.0177C11.3721 14.0178 11.4382 14.0046 11.4997 13.9788C11.5612 13.9531 11.617 13.9153 11.6635 13.8677C11.7102 13.8202 11.7469 13.7637 11.7715 13.7017C11.796 13.6397 11.8079 13.5735 11.8065 13.5068C11.805 13.4402 11.7903 13.3745 11.7631 13.3137C11.7359 13.2528 11.6968 13.1979 11.6481 13.1524C8.94269 10.4894 5.29622 9.00064 1.5 9.00931Z" fill="#0C7A1F"/>
  </svg>
);

export const MoversIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.0002 12.3323C11.7349 12.3323 11.4806 12.2269 11.293 12.0393C11.1054 11.8518 11.0002 11.5975 11.0002 11.3323C11.0002 11.067 11.1054 10.8127 11.293 10.6251C11.4806 10.4376 11.7349 10.3323 12.0002 10.3323C12.2654 10.3323 12.5197 10.4376 12.7072 10.6251C12.8948 10.8127 13.0002 11.067 13.0002 11.3323C13.0002 11.5975 12.8948 11.8518 12.7072 12.0393C12.5197 12.2269 12.2654 12.3323 12.0002 12.3323ZM13.0002 6.33228L14.3068 7.99895H11.3335V6.33228M4.00016 12.3323C3.73495 12.3323 3.48059 12.2269 3.29305 12.0393C3.10552 11.8518 3.00016 11.5975 3.00016 11.3323C3.00016 11.067 3.10552 10.8127 3.29305 10.6251C3.48059 10.4376 3.73495 10.3323 4.00016 10.3323C4.26538 10.3323 4.51974 10.4376 4.70727 10.6251C4.89481 10.8127 5.00016 11.067 5.00016 11.3323C5.00016 11.5975 4.89481 11.8518 4.70727 12.0393C4.51974 12.2269 4.26538 12.3323 4.00016 12.3323ZM13.3335 5.33228H11.3335V2.66562H2.00016C1.26016 2.66562 0.666829 3.25895 0.666829 3.99895V11.3323H2.00016C2.00016 11.8627 2.21087 12.3714 2.58594 12.7465C2.96102 13.1216 3.46973 13.3323 4.00016 13.3323C4.5306 13.3323 5.03931 13.1216 5.41438 12.7465C5.78945 12.3714 6.00016 11.8627 6.00016 11.3323H10.0002C10.0002 11.8627 10.2109 12.3714 10.5859 12.7465C10.961 13.1216 11.4697 13.3323 12.0002 13.3323C12.5306 13.3323 13.0393 13.1216 13.4144 12.7465C13.7895 12.3714 14.0002 11.8627 14.0002 11.3323H15.3335V7.99895L13.3335 5.33228Z" fill="#0C7A1F"/>
  </svg>
);

export const ForumIcon = () => (
  <svg className="w-5 h-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.3134 11.221L12.5734 13.3277C12.6401 13.881 12.0468 14.2677 11.5734 13.981L9.26675 12.6077C9.10675 12.5144 9.06675 12.3144 9.15341 12.1544C9.48675 11.541 9.66675 10.8477 9.66675 10.1544C9.66675 7.71436 7.57342 5.72769 5.00008 5.72769C4.47342 5.72769 3.96008 5.80769 3.48008 5.96769C3.23342 6.04769 2.99342 5.82102 3.05342 5.56769C3.66008 3.14102 5.99342 1.33436 8.78008 1.33436C12.0334 1.33436 14.6667 3.79436 14.6667 6.82769C14.6667 8.62769 13.7401 10.2211 12.3134 11.221Z" fill="#0C7A1F"/>
    <path d="M8.66683 10.1548C8.66683 10.9481 8.37349 11.6815 7.88016 12.2615C7.22016 13.0615 6.17349 13.5748 5.00016 13.5748L3.26016 14.6081C2.96683 14.7881 2.59349 14.5415 2.63349 14.2015L2.80016 12.8881C1.90683 12.2681 1.33349 11.2748 1.33349 10.1548C1.33349 8.98148 1.96016 7.94814 2.92016 7.33481C3.51349 6.94814 4.22683 6.72815 5.00016 6.72815C7.02683 6.72815 8.66683 8.26148 8.66683 10.1548Z" fill="#0C7A1F"/>
  </svg>
);

export default CategorySection;
